<!DOCTYPE html>

<html lang="ja">


<head>
  <meta charset="utf-8">
  <title>ご注文</title>
<style>
/* .step2-header{
  margin-bottom: 80px;
  margin-top: 0px;
} */
header{
  margin-bottom: 40px;
  margin-top: 0px;
}
.step1-header{
  border-radius: 0px;
  text-align: center;
  width:100%;
  font-weight: bold;
}
.day-attention{
  color:black;
  font-size: 12px;
  font-weight: bold;
}




  </style>
</head>

<body>
  <!-- エラーメッセージを表示するためのHTMLを貼り付けてください -->
<div>
  <%=form_tag("/order/create", multipart:true) do %>

    <fieldset>
      <header>
        <div class="step1-header bg-danger text-white py-2 my-3 mx-auto">
          ご注文フォーム
        </div>
      </header>
      <legend></legend>

      <div class="form-group">
        <label for="address" class="col col-xs-12 col-sm-4 col -md-3 control-label">
            <font size ="5" color=#000000 style = "border-bottom:solid 2px black; font-weight:bold;">ご連絡先</font>
        </label>
        <label for="name" class="col col-xs-12 col-sm-4 col-md-3 control-label">お名前</label>
        <div class="col col-xs-5 col-sm-3 col-md-3">
          <input type="text" name="name1" id="name1" class="form-control" placeholder="姓"value ="<%= @order.name1%>">
        </div>
        <div class="col col-xs-5 col-sm-3 col-md-3">
          <input type="text" name="name2" id="name2" class="form-control" placeholder="名"value ="<%= @order.name2%>">
        </div>
        <div class="col-xs-offset-2 col-sm-offset-2 col-md-offset-3"></div>
      </div>

      <div class="form-group">
        <label for="tel" class="col col-xs-12 col-sm-4 col-md-3 control-label">電話番号</label>
        <div class="col-xs-12 colcol-xs-10 col-sm-6 col-md-7">
          <div class="input-group">
            <input type="tel" name="tel1" id="tel1" class="form-control" placeholder="080"value ="<%= @order.tel1%>">
            <span class="input-group-addon">-</span>
            <input type="tel" name="tel2" id="tel2" class="form-control" placeholder="0000"value ="<%= @order.tel2%>">
            <span class="input-group-addon">-</span>
            <input type="tel" name="tel3" id="tel3" class="form-control" placeholder="0000"value ="<%= @order.tel3%>">
          </div>
        </div>
        <div class="col-xs-offset-2 col-sm-offset-2 col-md-offset-2"></div>
      </div>
      <div class="form-group">
        <label for="email" class="col col-xs-12 col-sm-4 col-md-3 control-label">メールアドレス</label>
        <div class="col col-xs-12 col-sm-6 col-md-7">
          <input type="email" name="email" id="email" class="form-control" placeholder="メールアドレスを入力してください"value ="<%= @order.email%>">
        </div>
        <div class="col-xs-offset-0 col-sm-offset-2 col-md-offset-2"></div>
      </div>
      <!--fontタグでCSSで指定しなくてもサイズと色は変更できるが、背景色の変更ができない、、-->
<!--仕方ないから  spanタグを用いて背景色を変えている、うーん、これでよいのだろうか？-->
      <label for="address" class="col col-xs-12 col-sm-4 col -md-3 control-label">
        <font size ="5" color=#000000><span style = "border-bottom:solid 2px black; font-weight:bold;">お届け先</span></font>
        </label>
      <div class="form-group">
        <label for="zipcode" class="col col-xs-12 col-sm-4 col-md-3 control-label">郵便番号</label>
        <div class="col col-xs-7 col-sm-4 col-md-4">
          <div class="input-group">
            <span class="input-group-addon">〒</span>
            <input type="text" name="zipcode" id="zipcode" class="form-control" placeholder="000-0000"value ="<%= @order.zipcode%>">
          </div>
        </div>
        <div class="col-xs-offset-5 col-sm-offset-4 col-md-offset-5"></div>
      </div>
      <div class="form-group">
        <label for="pref" class="col col-xs-12 col-sm-4 col-md-3 control-label">住所</label>
        <div class="col col-xs-7 col-sm-4 col-md-3">
          <select name="pref" id="pref" class="form-control"value ="<%= @order.pref%>">
            <option value="北海道">北海道</option>
            <option value="青森県">青森県</option>
            <option value="岩手県">岩手県</option>
            <option value="宮城県">宮城県</option>
            <option value="秋田県">秋田県</option>
            <option value="山形県">山形県</option>
            <option value="福島県">福島県</option>
            <option value="茨城県">茨城県</option>
            <option value="栃木県">栃木県</option>
            <option value="群馬県">群馬県</option>
            <option value="埼玉県">埼玉県</option>
            <option value="千葉県">千葉県</option>
            <option value="東京都">東京都</option>
            <option value="神奈川県">神奈川県</option>
            <option value="新潟県">新潟県</option>
            <option value="山梨県">山梨県</option>
            <option value="長野県">長野県</option>
            <option value="富山県">富山県</option>
            <option value="石川県">石川県</option>
            <option value="福井県">福井県</option>
            <option value="岐阜県">岐阜県</option>
            <option value="静岡県">静岡県</option>
            <option value="愛知県">愛知県</option>
            <option value="三重県">三重県</option>
            <option value="滋賀県">滋賀県</option>
            <option value="京都府">京都府</option>
            <option value="大阪府">大阪府</option>
            <option value="兵庫県">兵庫県</option>
            <option value="奈良県">奈良県</option>
            <option value="和歌山県">和歌山県</option>
            <option value="鳥取県">鳥取県</option>
            <option value="島根県">島根県</option>
            <option value="岡山県">岡山県</option>
            <option value="広島県">広島県</option>
            <option value="山口県">山口県</option>
            <option value="徳島県">徳島県</option>
            <option value="香川県">香川県</option>
            <option value="愛媛県">愛媛県</option>
            <option value="高知県">高知県</option>
            <option value="福岡県">福岡県</option>
            <option value="佐賀県">佐賀県</option>
            <option value="長崎県">長崎県</option>
            <option value="熊本県">熊本県</option>
            <option value="大分県">大分県</option>
            <option value="宮崎県">宮崎県</option>
            <option value="鹿児島県">鹿児島県</option>
            <option value="沖縄県">沖縄県</option>
          </select>
        </div>

      </div>
      <div class="form-group">
        <div class="col col-sm-8 col-sm-offset-4 col-md-9 col-md-offset-3">
          <input type="text" name="addr1" id="addr1" class="form-control" placeholder="市区町村名"value ="<%= @order.addr1%>">
          <br><!-- <p class="help-block">住所は2つに分けてご記入ください。</p> -->
          <input type="text" name="addr2" id="addr2" class="form-control" placeholder="番地・ビル名"value ="<%= @order.addr2%>">
          <p class="help-block" style="font-weight:bold; font-size:12px;">マンション名は必ず記入してください。</p>
        </div>
      </div>
      <!--お届け日を設定、dateタグを用いればカレンダー表示はできる-->
<!--カレンダーの最小値は設定できるけれど、「今日から5日後」とかできるかは要調査-->
<div class="container">

<div class="form-group">
<label for="address" class="col col-xs-12 col-sm-4 col -md-3 control-label">
    <font size ="5" color=#000000 style = "border-bottom:solid 2px black; font-weight:bold;">お届け日</font>
</label>
<input class="form-control" name ="delivery_date" type="date" min ="2018-10-01" value ="<%= @order.delivery_date%>">
  <div class="day-attention">
  ご注文からお届けまで最低７営業日いただいております
</div>
<!--余裕が選択できる範囲をより自由に設定できるようにしたい-->
<!--お届け個数が5個を超える日は選択できないようにするとか-->
</div>

      <!--支払い方法を選択-->
      <div class="form-group">
        <label for="pay_type" class="col col-xs-12 col-sm-4 col -md-3 control-label">
          <font size ="5" color=#000000><span style = "border-bottom:solid 2px black; font-weight:bold;">お支払い方法</span></font>
          </label>
        <div>
          <input type ="radio" name= "pay_type" value= "bank_transfer" >銀行振込<br>
            <p>お支払いは下記の口座にお願い致します</p>
          <input type ="radio" name= "pay_type" value= "credit_card" >クレジットカード<br>
        </div>
      </div>
</div>

      <div class="form-group">
        <div class="col col-xs-9 col-xs-offset-3 col-sm-8 col-sm-offset-4 col-md-9 col-md-offset-3">
          <button type="submit" class="btn btn-danger btn-lg">　内容を確認する　</button>
        </div>
      </div>
    </fieldset>
<% end %>

</div>

  <script src="http://code.jquery.com/jquery.js"></script>



  <script type="text/javascript">

    jQuery(function($){

      // 郵便番号入力による住所自動入力

      $('#zipcode').change(function(){

        var zip = $(this).val();

        var url = 'http://api.zipaddress.net?callback=?';

        var query = {'zipcode': zip};

        $.getJSON(url, query, function(json){

          $('#pref').val(json.pref);

          $('#addr1').val(json.address);

        });

      });

    });
  </script>
</body>

</html>
